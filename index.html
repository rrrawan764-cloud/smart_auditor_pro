<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رواق العدل | المنصة الذكية الموحدة</title>
    
    <meta name="author" content="روان الصبحي">
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #0a716e; --accent: #FFB703; --bg: #021a1a;
            --panel: rgba(255, 255, 255, 0.03); --text: #eaffef;
            --radius: 16px; --shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Cairo', sans-serif; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        body { background: var(--bg); color: var(--text); overflow-x: hidden; min-height: 100vh; }
        
        /* محرك الخلفية التفاعلي */
        #bgCanvas { position: fixed; inset: 0; z-index: -3; }
        .bg-overlay { position: fixed; inset: 0; z-index: -2; background: radial-gradient(circle at 50% 50%, rgba(15,176,107,0.05), transparent); }

        /* مفتاح التبديل العلوي */
        .interface-switcher {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.05); padding: 5px; border-radius: 50px;
            display: flex; gap: 5px; border: 1px solid rgba(255,255,255,0.1); z-index: 1000;
            backdrop-filter: blur(10px);
        }
        .switch-btn {
            padding: 8px 25px; border-radius: 50px; border: 0; background: transparent;
            color: #a8c7b9; cursor: pointer; font-weight: 700; font-size: 14px;
        }
        .switch-btn.active { background: var(--primary); color: #fff; box-shadow: 0 4px 15px rgba(10,113,110,0.4); }

        .container { max-width: 1300px; margin: 90px auto 40px; padding: 0 20px; }

        /* البطاقات والأقسام */
        .card { background: var(--panel); border-radius: var(--radius); padding: 30px; border: 1px solid rgba(255,255,255,0.05); box-shadow: var(--shadow); backdrop-filter: blur(15px); }
        
        /* واجهة المستخدم (الخدمات) */
        .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px; }
        .service-box { 
            padding: 25px; background: rgba(255,255,255,0.02); border-radius: var(--radius); 
            border: 1px solid rgba(255,255,255,0.05); cursor: pointer; text-align: center;
        }
        .service-box:hover { transform: translateY(-8px); background: rgba(15,176,107,0.1); border-color: var(--primary-light); }
        .service-box i { font-size: 35px; color: var(--accent); margin-bottom: 15px; }

        /* واجهة القاضي (الإحصائيات) */
        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px; }
        .stat-item { padding: 20px; background: rgba(15,176,107,0.05); border-radius: 12px; text-align: center; border: 1px solid rgba(15,176,107,0.1); }
        .stat-item h1 { color: var(--accent); font-size: 32px; }

        /* البحث والمدخلات */
        .input-group { position: relative; margin: 20px 0; }
        input, textarea { width: 100%; padding: 15px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; color: #fff; font-size: 16px; outline: none; }
        input:focus { border-color: var(--accent); }
        
        .btn-ai { 
            background: linear-gradient(135deg, var(--accent), #d59b03); color: #000; 
            padding: 15px 30px; border-radius: 12px; border: 0; font-weight: 800; cursor: pointer;
            width: 100%; display: flex; align-items: center; gap: 10px; justify-content: center;
        }

        .result-area { background: rgba(0,0,0,0.4); padding: 20px; border-radius: 12px; margin-top: 20px; border: 1px dashed var(--primary); display: none; }

        .hidden { display: none !important; }
        .muted { color: #a8c7b9; font-size: 14px; }
    </style>
</head>
<body>

    <canvas id="bgCanvas"></canvas>
    <div class="bg-overlay"></div>

    <div class="interface-switcher">
        <button class="switch-btn active" onclick="toggleMode('user', this)"><i class="fas fa-user"></i> واجهة المواطن</button>
        <button class="switch-btn" onclick="toggleMode('judge', this)"><i class="fas fa-gavel"></i> واجهة القاضي</button>
    </div>

    <div class="container">
        
        <div id="user-view">
            <div class="card">
                <h2 style="color: var(--accent);">مرحباً بك في منصة رواق العدل</h2>
                <p class="muted">خدمات استلام القضايا والاستعلام الذكي بمساعدة AI</p>
                
                <div class="services-grid">
                    <div class="service-box"><i class="fas fa-file-circle-plus"></i><h4>طلب قيد دعوى</h4><p class="muted">رفع قضية جديدة ذكياً</p></div>
                    <div class="service-box" onclick="activateVoice()"><i class="fas fa-microphone"></i><h4>المساعد الصوتي</h4><p class="muted">للمكفوفين وذوي الهمم</p></div>
                    <div class="service-box"><i class="fas fa-magnifying-glass"></i><h4>تتبع معاملة</h4><p class="muted">استعلام موحد بالهوية</p></div>
                </div>

                <div class="input-group" style="margin-top: 40px;">
                    <h3><i class="fas fa-robot"></i> استشارة قانونية سريعة (AI)</h3>
                    <textarea id="userQuestion" placeholder="اكتب سؤالك القانوني أو ملخص مشكلتك هنا..." style="margin-top: 15px;"></textarea>
                    <button class="btn-ai" onclick="runUserAI()"><i class="fas fa-wand-magic-sparkles"></i> الحصول على توجيه قانوني</button>
                    <div id="userAiRes" class="result-area"></div>
                </div>
            </div>
        </div>

        <div id="judge-view" class="hidden">
            <div class="card">
                <h2 style="color: var(--primary-light);">لوحة تحكم القاضي الذكية</h2>
                <p class="muted">فرز القضايا، تحليل الوقائع، وإصدار المسودات</p>

                <div class="stats-row" style="margin-top: 25px;">
                    <div class="stat-item"><h1 id="count1">12</h1><p>قضايا قيد الانتظار</p></div>
                    <div class="stat-item"><h1 id="count2">5</h1><p>قضايا عاجلة</p></div>
                    <div class="stat-item"><h1 id="count3">8</h1><p>جلسات اليوم</p></div>
                </div>

                <div class="input-group">
                    <h3><i class="fas fa-brain"></i> محلل وقائع القضية (AI Judge Assistant)</h3>
                    <textarea id="judgeText" placeholder="قم بلصق وقائع القضية لتحليل النواقص القانونية وصياغة مسودة حكم..." style="min-height: 200px; margin-top: 15px;"></textarea>
                    <button class="btn-ai" onclick="runJudgeAI()" style="background: var(--primary-light);"><i class="fas fa-gavel"></i> تشغيل مدقق الوقائع</button>
                    <div id="judgeAiRes" class="result-area"></div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- 1. التبديل بين الواجهات ---
        function toggleMode(mode, btn) {
            const userView = document.getElementById('user-view');
            const judgeView = document.getElementById('judge-view');
            const btns = document.querySelectorAll('.switch-btn');

            btns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            if(mode === 'user') {
                userView.classList.remove('hidden');
                judgeView.classList.add('hidden');
                document.documentElement.style.setProperty('--primary', '#0a716e');
            } else {
                userView.classList.add('hidden');
                judgeView.classList.remove('hidden');
                document.documentElement.style.setProperty('--primary', '#0b7d56');
            }
        }

        // --- 2. محرك الذكاء الاصطناعي للمستخدم ---
        function runUserAI() {
            const q = document.getElementById('userQuestion').value;
            const res = document.getElementById('userAiRes');
            if(!q) return alert("يرجى كتابة سؤالك");
            res.style.display = 'block';
            res.innerHTML = "<i class='fas fa-spinner fa-spin'></i> جاري البحث في الأنظمة واللوائح...";
            setTimeout(() => {
                res.innerHTML = "<strong>توجيه رواق العدل:</strong> بناءً على الأنظمة السعودية، يُنصح بالتقدم بطلب عبر ناجز في تصنيف 'دعاوى حقوقية'. الثغرة في وقائعك قد تكون نقص بينة الدفع المالي.";
            }, 1500);
        }

        // --- 3. محرك الذكاء الاصطناعي للقاضي ---
        function runJudgeAI() {
            const txt = document.getElementById('judgeText').value;
            const res = document.getElementById('judgeAiRes');
            if(!txt) return alert("أدخل نص الوقائع للتحليل");
            res.style.display = 'block';
            res.innerHTML = "جاري التدقيق القانوني وصياغة التوصيات...";
            setTimeout(() => {
                res.innerHTML = "<strong>التحليل القضائي:</strong> تم رصد تعارض في تواريخ التبليغ. المادة 15 من نظام المرافعات قد تنطبق هنا. تم إعداد مسودة قرار 'طلب استكمال بيانات'.";
            }, 2000);
        }

        // --- 4. خدمات ذوي الهمم ---
        function activateVoice() {
            const msg = new SpeechSynthesisUtterance("أهلاً بك في رواق العدل. اضغط مطولاً على الشاشة لقول رقم الهوية وسأقوم بالبحث عن قضاياك فوراً.");
            msg.lang = 'ar-SA';
            window.speechSynthesis.speak(msg);
        }

        // --- 5. محرك الخلفية الحية ---
        const canvas = document.getElementById('bgCanvas'), ctx = canvas.getContext('2d');
        let particles = [];
        window.onresize = () => { canvas.width = innerWidth; canvas.height = innerHeight; };
        window.onresize();
        class P {
            constructor() { this.x = Math.random()*canvas.width; this.y = Math.random()*canvas.height; this.v = Math.random()*0.2; }
            update() { this.y -= this.v; if(this.y<0) this.y=canvas.height; }
            draw() { ctx.fillStyle = 'rgba(15,176,107,0.1)'; ctx.beginPath(); ctx.arc(this.x, this.y, 1, 0, Math.PI*2); ctx.fill(); }
        }
        for(let i=0; i<80; i++) particles.push(new P());
        function loop() { ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{p.update();p.draw();}); requestAnimationFrame(loop); }
        loop();
    </script>
</body>
</html>
