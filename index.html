<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>رواق العدل | المنصة الذكية الشاملة للخدمات القضائية</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="المنصة القضائية الذكية المتكاملة - خدمات للمواطنين، القضاة، المحامين، والمكفوفين بمساعد ذكي متطور">
    <meta name="keywords" content="قضائي, محكمة, قانون, ذكاء اصطناعي, محامي, قاضي, خدمات قضائية">
    <meta name="author" content="روان الصبحي - Rawaan Al-Subhi">
    <meta name="copyright" content="© 2024 روان الصبحي. جميع الحقوق محفوظة.">
    <meta name="theme-color" content="#0a716e">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <style>
        /* ===== CSS Variables ===== */
        :root {
            /* نظام الألوان */
            --primary: #0a716e;
            --primary-light: #0d8a86;
            --primary-dark: #065954;
            --accent: #FFB703;
            --accent-light: #ffd166;
            --accent-dark: #cc9200;
            --lawyer: #2d5aa0;
            --lawyer-light: #3a6bc8;
            --judge: #8a2be2;
            --judge-light: #9d4edd;
            --blind: #219ebc;
            --blind-light: #8ecae6;
            --success: #4CAF50;
            --warning: #ff9800;
            --danger: #f44336;
            --bg: #021a1a;
            --bg-light: #032626;
            --panel: rgba(255, 255, 255, 0.03);
            --text: #eaffef;
            --text-secondary: #b8d4c5;
            --border: rgba(255, 255, 255, 0.08);
            
            /* نظام الأبعاد */
            --radius-sm: 8px;
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            
            /* الظلال */
            --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.3);
            --shadow-xl: 0 25px 50px rgba(0, 0, 0, 0.4);
            --shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.2);
            
            /* التباعد */
            --space-4: 1rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
        }

        /* ===== Reset & Base Styles ===== */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            background: var(--bg);
            color: var(--text);
            overflow-x: hidden;
            min-height: 100vh;
            line-height: 1.6;
        }

        /* ===== Background Engine ===== */
        #bgCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -3;
            pointer-events: none;
        }

        .bg-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(10, 113, 110, 0.15), transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(255, 183, 3, 0.1), transparent 40%),
                linear-gradient(to bottom, rgba(2, 26, 26, 0.9), rgba(2, 26, 26, 0.95));
            z-index: -2;
            pointer-events: none;
        }

        /* ===== Header ===== */
        .main-header {
            position: fixed;
            top: 0;
            right: 0;
            left: 0;
            background: rgba(2, 26, 26, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            padding: 1rem 0;
            z-index: 1000;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        .main-logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
            color: inherit;
            transition: transform 0.3s ease;
        }

        .main-logo:hover {
            transform: scale(1.02);
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            animation: logoFloat 3s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(3deg); }
            66% { transform: translateY(5px) rotate(-3deg); }
        }

        .logo-text h1 {
            font-size: 1.8rem;
            background: linear-gradient(to right, var(--accent), var(--primary-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
            line-height: 1.2;
        }

        .logo-text span {
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: block;
        }

        /* ===== Main Navigation ===== */
        .main-nav {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .mode-switcher {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            padding: 0.5rem;
            border-radius: 50px;
            gap: 0.5rem;
            border: 1px solid var(--border);
            backdrop-filter: blur(10px);
        }

        .mode-btn {
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-width: 110px;
            justify-content: center;
        }

        .mode-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .mode-btn:hover {
            color: var(--text);
            transform: translateY(-2px);
        }

        .mode-btn.active {
            color: white;
        }

        .mode-btn.active::before {
            opacity: 1;
        }

        .mode-btn.active.citizen::before {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        }

        .mode-btn.active.judge::before {
            background: linear-gradient(135deg, var(--judge), var(--judge-light));
        }

        .mode-btn.active.lawyer::before {
            background: linear-gradient(135deg, var(--lawyer), var(--lawyer-light));
        }

        .mode-btn.active.blind::before {
            background: linear-gradient(135deg, var(--blind), var(--blind-light));
        }

        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .icon-btn {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .icon-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--accent);
            transform: translateY(-2px);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            left: -5px;
            background: var(--danger);
            color: white;
            font-size: 0.7rem;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border: 2px solid var(--bg);
        }

        /* ===== Main Content ===== */
        .main-container {
            max-width: 1400px;
            margin: 100px auto 2rem;
            padding: 0 2rem;
            animation: fadeIn 0.5s ease-out;
        }

        .view-section {
            display: none;
            animation: slideInUp 0.5s ease;
        }

        .view-section.active {
            display: block;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== Citizen Interface ===== */
        .welcome-banner {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: var(--radius-xl);
            padding: 3rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .welcome-banner::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }

        .welcome-banner h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .welcome-banner p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            max-width: 800px;
            position: relative;
            z-index: 1;
        }

        .citizen-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .service-card {
            background: linear-gradient(145deg, var(--panel), rgba(255, 255, 255, 0.02));
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            padding: 2rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to left, var(--accent), var(--primary));
            transform: translateX(100%);
            transition: transform 0.6s ease;
        }

        .service-card:hover::before {
            transform: translateX(0);
        }

        .service-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--accent);
            box-shadow: var(--shadow-xl);
        }

        .service-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        .service-card:hover .service-icon {
            transform: rotateY(180deg) scale(1.1);
            background: linear-gradient(135deg, var(--accent), var(--accent-dark));
        }

        .service-card h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            color: var(--text);
        }

        .service-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            flex-grow: 1;
            margin-bottom: 1.5rem;
        }

        .service-badge {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            background: rgba(10, 113, 110, 0.2);
            border-radius: 50px;
            font-size: 0.8rem;
            color: var(--accent);
            border: 1px solid rgba(10, 113, 110, 0.3);
            margin-top: auto;
        }

        /* ===== Judge Interface ===== */
        .judge-dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
            min-height: calc(100vh - 150px);
        }

        .judge-sidebar {
            background: linear-gradient(145deg, var(--panel), rgba(255, 255, 255, 0.02));
            border-radius: var(--radius-xl);
            border: 1px solid var(--border);
            padding: 2rem;
            height: fit-content;
            position: sticky;
            top: 120px;
        }

        .judge-profile {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border);
        }

        .judge-avatar {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, var(--judge), var(--judge-light));
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            border: 3px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .judge-profile h3 {
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        .judge-profile p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .nav-item {
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            text-align: right;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            border-radius: var(--radius);
            transition: all 0.3s ease;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
            transform: translateX(-5px);
        }

        .nav-item.active {
            background: rgba(138, 43, 226, 0.1);
            color: var(--judge-light);
            border-right: 3px solid var(--judge);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(145deg, rgba(138, 43, 226, 0.1), rgba(255, 183, 3, 0.05));
            border-radius: var(--radius-lg);
            border: 1px solid rgba(138, 43, 226, 0.2);
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card h2 {
            font-size: 3rem;
            background: linear-gradient(to right, var(--judge), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .stat-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* ===== Lawyer Interface ===== */
        .lawyer-dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
            min-height: calc(100vh - 150px);
        }

        .lawyer-sidebar {
            background: linear-gradient(145deg, var(--panel), rgba(255, 255, 255, 0.02));
            border-radius: var(--radius-xl);
            border: 1px solid var(--border);
            padding: 2rem;
            height: fit-content;
            position: sticky;
            top: 120px;
        }

        .lawyer-profile {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border);
        }

        .lawyer-avatar {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, var(--lawyer), var(--lawyer-light));
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            border: 3px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        /* ===== Blind Interface ===== */
        .blind-dashboard {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            min-height: calc(100vh - 150px);
        }

        .blind-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .voice-action {
            background: linear-gradient(145deg, rgba(33, 158, 188, 0.1), rgba(142, 202, 230, 0.05));
            border-radius: var(--radius-lg);
            border: 1px solid rgba(33, 158, 188, 0.2);
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .voice-action:hover {
            transform: scale(1.05);
            background: linear-gradient(145deg, rgba(33, 158, 188, 0.2), rgba(142, 202, 230, 0.1));
        }

        .voice-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--blind), var(--blind-light));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            margin: 0 auto 1.5rem;
        }

        /* ===== AI Assistant ===== */
        .ai-assistant {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            z-index: 999;
        }

        .assistant-toggle {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--accent-dark));
            border: none;
            color: #000;
            font-size: 1.8rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-xl);
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        .assistant-toggle:hover {
            transform: scale(1.1) rotate(10deg);
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 10px 30px rgba(255, 183, 3, 0.4); }
            50% { box-shadow: 0 15px 40px rgba(255, 183, 3, 0.7); }
        }

        /* ===== Input Groups ===== */
        .input-group {
            margin: 2rem 0;
            background: var(--panel);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border);
            padding: 2rem;
        }

        .input-group h3 {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            color: var(--accent);
        }

        .input-with-icon {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .input-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        textarea, select, input {
            width: 100%;
            padding: 1rem;
            padding-right: 1rem;
            padding-left: 3rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text);
            font-size: 1rem;
            resize: vertical;
            transition: all 0.3s ease;
        }

        textarea:focus, select:focus, input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(255, 183, 3, 0.1);
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23FFB703' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: left 1rem center;
            background-size: 1em;
        }

        /* ===== Buttons ===== */
        .btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1rem 2rem;
            border-radius: var(--radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            font-size: 1rem;
            min-height: 50px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent), var(--accent-dark));
            color: #000;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 183, 3, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(10, 113, 110, 0.4);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }

        .btn-outline:hover {
            background: var(--accent);
            color: #000;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        /* ===== Result Areas ===== */
        .result-area {
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.3), rgba(10, 113, 110, 0.05));
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            padding: 2rem;
            margin-top: 2rem;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .result-area.show {
            display: block;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .result-header h4 {
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .result-actions {
            display: flex;
            gap: 0.5rem;
        }

        .result-content {
            line-height: 1.8;
        }

        .result-content ul {
            padding-right: 1.5rem;
            margin: 1rem 0;
        }

        .result-content li {
            margin-bottom: 0.5rem;
            position: relative;
        }

        .result-content li::before {
            content: '•';
            color: var(--accent);
            position: absolute;
            right: -1rem;
        }

        .info-box {
            margin-top: 1.5rem;
            padding: 1rem;
            background: rgba(10, 113, 110, 0.1);
            border-radius: var(--radius);
            border-right: 3px solid var(--primary);
        }

        .info-box p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            gap: 1rem;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== Notifications ===== */
        .notification-container {
            position: fixed;
            top: 100px;
            right: 2rem;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 400px;
        }

        .notification {
            background: linear-gradient(135deg, rgba(2, 26, 26, 0.95), rgba(10, 113, 110, 0.9));
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            padding: 1.5rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            animation: slideInRight 0.3s ease;
            box-shadow: var(--shadow-lg);
            transform-origin: top right;
        }

        .notification.success {
            border-right: 4px solid var(--success);
        }

        .notification.warning {
            border-right: 4px solid var(--warning);
        }

        .notification.error {
            border-right: 4px solid var(--danger);
        }

        .notification.info {
            border-right: 4px solid var(--accent);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .notification-content {
            flex-grow: 1;
        }

        .notification-content h5 {
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        .notification-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .notification-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0;
            font-size: 1rem;
            transition: color 0.3s ease;
        }

        .notification-close:hover {
            color: var(--text);
        }

        /* ===== Footer ===== */
        .main-footer {
            background: rgba(2, 26, 26, 0.95);
            border-top: 1px solid var(--border);
            padding: 3rem 0 2rem;
            margin-top: 4rem;
            backdrop-filter: blur(10px);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .footer-section h3 {
            margin-bottom: 1.5rem;
            color: var(--accent);
        }

        .footer-section p {
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .footer-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        .copyright {
            text-align: center;
            padding: 2rem 0 0;
            margin-top: 2rem;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* ===== Developer Copyright ===== */
        .developer-copyright {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
            background: rgba(2, 26, 26, 0.95);
            backdrop-filter: blur(10px);
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            border: 1px solid var(--border);
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 1rem;
            animation: slideInLeft 0.5s ease;
            transition: all 0.3s ease;
        }

        .developer-copyright:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        @keyframes slideInLeft {
            from { transform: translateX(100px) scale(0.9); opacity: 0; }
            to { transform: translateX(0) scale(1); opacity: 1; }
        }

        .developer-avatar {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .developer-info {
            line-height: 1.4;
        }

        .developer-name {
            font-weight: 600;
            color: var(--text);
        }

        .copyright-text {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* ===== Responsive Design ===== */
        @media (max-width: 1200px) {
            .judge-dashboard,
            .lawyer-dashboard {
                grid-template-columns: 1fr;
            }
            
            .judge-sidebar,
            .lawyer-sidebar {
                position: static;
            }
        }

        @media (max-width: 992px) {
            .header-content {
                flex-direction: column;
                padding: 0 1.5rem;
                gap: 1.5rem;
            }
            
            .main-nav {
                width: 100%;
                justify-content: center;
            }
            
            .mode-switcher {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
            }
        }

        @media (max-width: 768px) {
            html {
                font-size: 14px;
            }
            
            .main-container {
                margin-top: 140px;
                padding: 0 1rem;
            }
            
            .welcome-banner {
                padding: 2rem;
            }
            
            .welcome-banner h2 {
                font-size: 2rem;
            }
            
            .citizen-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .blind-actions {
                grid-template-columns: 1fr;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .ai-assistant {
                bottom: 5rem;
                left: 1rem;
            }
            
            .developer-copyright {
                right: 1rem;
                left: 1rem;
                bottom: 5rem;
                border-radius: var(--radius);
            }
            
            .notification-container {
                right: 1rem;
                left: 1rem;
                max-width: none;
            }
        }

        @media (max-width: 480px) {
            .mode-btn {
                padding: 0.6rem 1rem;
                min-width: auto;
            }
            
            .mode-btn span {
                display: none;
            }
            
            .service-card {
                padding: 1.5rem;
            }
            
            .input-group {
                padding: 1.5rem;
            }
        }

        /* ===== Accessibility ===== */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        /* ===== Animations ===== */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ===== Custom Scrollbar ===== */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-light);
        }
    </style>
</head>
<body>

    <!-- Background Elements -->
    <canvas id="bgCanvas"></canvas>
    <div class="bg-overlay"></div>

    <!-- Header -->
    <header class="main-header">
        <div class="header-content">
            <a href="#" class="main-logo">
                <div class="logo-icon">
                    <i class="fas fa-scale-balanced"></i>
                </div>
                <div class="logo-text">
                    <h1>رواق العدل</h1>
                    <span>المنصة الذكية الشاملة للخدمات القضائية</span>
                </div>
            </a>

            <nav class="main-nav">
                <div class="mode-switcher">
                    <button class="mode-btn citizen active" onclick="switchMode('citizen', this)">
                        <i class="fas fa-user"></i>
                        <span>المواطن</span>
                    </button>
                    <button class="mode-btn judge" onclick="switchMode('judge', this)">
                        <i class="fas fa-gavel"></i>
                        <span>القاضي</span>
                    </button>
                    <button class="mode-btn lawyer" onclick="switchMode('lawyer', this)">
                        <i class="fas fa-user-tie"></i>
                        <span>المحامي</span>
                    </button>
                    <button class="mode-btn blind" onclick="switchMode('blind', this)">
                        <i class="fas fa-eye-slash"></i>
                        <span>المكفوفين</span>
                    </button>
                </div>

                <div class="header-actions">
                    <button class="icon-btn" onclick="showNotifications()">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                    <button class="icon-btn" onclick="toggleDarkMode()">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="icon-btn" onclick="showHelp()">
                        <i class="fas fa-question-circle"></i>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Notifications Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Main Content -->
    <main class="main-container">
        
        <!-- Citizen Interface -->
        <section id="citizen-view" class="view-section active">
            <div class="welcome-banner">
                <h2>مرحباً بك في منصة رواق العدل الذكية</h2>
                <p>منصة شاملة تقدم جميع الخدمات القضائية بذكاء وسهولة وأمان، مصممة خصيصاً لتلبية احتياجاتك القانونية بكل يسر</p>
            </div>

            <div class="citizen-grid">
                <!-- Services Grid -->
                <div class="service-card animate__animated animate__fadeInUp" onclick="openService('new-case')">
                    <div class="service-icon">
                        <i class="fas fa-file-contract"></i>
                    </div>
                    <h3>رفع دعوى جديدة</h3>
                    <p>ابدأ دعوى قضائية جديدة بمساعدة الذكاء الاصطناعي في صياغة الطلبات وتقديمها</p>
                    <span class="service-badge">خدمة ذكية</span>
                </div>

                <div class="service-card animate__animated animate__fadeInUp" onclick="openService('track-case')">
                    <div class="service-icon">
                        <i class="fas fa-search-location"></i>
                    </div>
                    <h3>متابعة الدعاوى</h3>
                    <p>تابع حالة دعواك خطوة بخطوة مع تحديثات فورية ورسائل تنبيه ذكية</p>
                    <span class="service-badge">متابعة مباشرة</span>
                </div>

                <div class="service-card animate__animated animate__fadeInUp" onclick="openService('documents')">
                    <div class="service-icon">
                        <i class="fas fa-folder-open"></i>
                    </div>
                    <h3>الخدمات الإلكترونية</h3>
                    <p>تقديم طلبات ومرافعات إلكترونياً مع نظام متكامل لإدارة الوثائق</p>
                    <span class="service-badge">خدمات إلكترونية</span>
                </div>

                <div class="service-card animate__animated animate__fadeInUp" onclick="openService('calculator')">
                    <div class="service-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h3>الحاسبة القضائية</h3>
                    <p>احسب الرسوم والتكاليف القانونية مسبقاً باستخدام أداة ذكية متخصصة</p>
                    <span class="service-badge">أداة مجانية</span>
                </div>

                <div class="service-card animate__animated animate__fadeInUp" onclick="openService('consultation')">
                    <div class="service-icon">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <h3>استشارة قانونية</h3>
                    <p>احصل على استشارات قانونية أولية من خلال الذكاء الاصطناعي المتخصص</p>
                    <span class="service-badge">استشارة ذكية</span>
                </div>

                <div class="service-card animate__animated animate__fadeInUp" onclick="openService('appointments')">
                    <div class="service-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3>حجز المواعيد</h3>
                    <p>حجز مواعيد في المحاكم والجهات القضائية إلكترونياً وبسهولة</p>
                    <span class="service-badge">حجز إلكتروني</span>
                </div>
            </div>

            <!-- AI Assistant -->
            <div class="input-group animate__animated animate__fadeIn">
                <h3><i class="fas fa-robot"></i> المساعد القانوني الذكي</h3>
                <p class="text-muted" style="margin-bottom: 1.5rem;">اطرح سؤالك القانوني أو صف حالتك للحصول على تحليل ذكي وتوجيهات أولية</p>
                
                <div class="input-with-icon">
                    <i class="input-icon fas fa-question-circle"></i>
                    <textarea id="citizenQuestion" 
                              placeholder="مثال: لدي نزاع مع جاري حول حدود الأرض، ما هي الخطوات التي يجب أن أتخذها؟ أو: أريد معرفة كيفية رفع دعوى تعويض عن ضرر..."></textarea>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="runCitizenAI()">
                        <i class="fas fa-brain"></i>
                        <span>تحليل ذكي</span>
                    </button>
                    <button class="btn btn-secondary" onclick="voiceInput('citizenQuestion')">
                        <i class="fas fa-microphone"></i>
                        <span>إدخال صوتي</span>
                    </button>
                    <button class="btn btn-outline" onclick="clearInput('citizenQuestion')">
                        <i class="fas fa-eraser"></i>
                        <span>مسح</span>
                    </button>
                </div>
                
                <div id="citizenAiResult" class="result-area"></div>
            </div>
        </section>

        <!-- Judge Interface -->
        <section id="judge-view" class="view-section">
            <div class="judge-dashboard">
                <!-- Sidebar -->
                <aside class="judge-sidebar">
                    <div class="judge-profile">
                        <div class="judge-avatar">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <h3>القاضي/ أحمد العتيبي</h3>
                        <p class="text-muted">المحكمة العامة - الرياض</p>
                        <p class="text-muted" style="font-size: 0.8rem; margin-top: 0.5rem;">رقم العضوية: 2024-001</p>
                    </div>
                    
                    <!-- Navigation -->
                    <div class="sidebar-nav">
                        <button class="nav-item active" onclick="showJudgeSection('cases')">
                            <i class="fas fa-gavel"></i>
                            <span>القضايا</span>
                        </button>
                        <button class="nav-item" onclick="showJudgeSection('calendar')">
                            <i class="fas fa-calendar-days"></i>
                            <span>الجدول الزمني</span>
                        </button>
                        <button class="nav-item" onclick="showJudgeSection('decisions')">
                            <i class="fas fa-file-signature"></i>
                            <span>القرارات</span>
                        </button>
                        <button class="nav-item" onclick="showJudgeSection('analytics')">
                            <i class="fas fa-chart-line"></i>
                            <span>التحليلات</span>
                        </button>
                        <button class="nav-item" onclick="showJudgeSection('settings')">
                            <i class="fas fa-cog"></i>
                            <span>الإعدادات</span>
                        </button>
                    </div>
                </aside>

                <!-- Main Content -->
                <div class="judge-main">
                    <!-- Statistics -->
                    <div class="stats-grid">
                        <div class="stat-card animate__animated animate__fadeIn">
                            <h2>42</h2>
                            <p>قضايا قيد النظر</p>
                        </div>
                        <div class="stat-card animate__animated animate__fadeIn" style="animation-delay: 0.1s;">
                            <h2>18</h2>
                            <p>جلسات هذا الأسبوع</p>
                        </div>
                        <div class="stat-card animate__animated animate__fadeIn" style="animation-delay: 0.2s;">
                            <h2>7</h2>
                            <p>قرارات تحت الصياغة</p>
                        </div>
                        <div class="stat-card animate__animated animate__fadeIn" style="animation-delay: 0.3s;">
                            <h2>96%</h2>
                            <p>نسبة الإنجاز</p>
                        </div>
                    </div>

                    <!-- AI Assistant for Judge -->
                    <div class="input-group animate__animated animate__fadeIn">
                        <h3><i class="fas fa-microscope"></i> محلل الوقائع الذكي للقضاة</h3>
                        <p class="text-muted" style="margin-bottom: 1.5rem;">أدخل نص وقائع القضية للحصول على تحليل قانوني متقدم وتوصيات</p>
                        
                        <div class="input-with-icon">
                            <i class="input-icon fas fa-file-alt"></i>
                            <textarea id="judgeText" 
                                      placeholder="أدخل نص وقائع القضية بالتفصيل..."></textarea>
                        </div>
                        
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="runJudgeAI()">
                                <i class="fas fa-gavel"></i>
                                <span>تحليل قانوني متقدم</span>
                            </button>
                            <button class="btn btn-outline" onclick="clearInput('judgeText')">
                                <i class="fas fa-eraser"></i>
                                <span>مسح</span>
                            </button>
                        </div>
                        
                        <div id="judgeAiResult" class="result-area"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lawyer Interface -->
        <section id="lawyer-view" class="view-section">
            <div class="lawyer-dashboard">
                <!-- Sidebar -->
                <aside class="lawyer-sidebar">
                    <div class="lawyer-profile">
                        <div class="lawyer-avatar">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <h3>المحامي/ محمد الشمري</h3>
                        <p class="text-muted">مدني - تجاري</p>
                        <p class="text-muted" style="font-size: 0.8rem; margin-top: 0.5rem;">رقم الرخصة: 5678-2023</p>
                    </div>
                    
                    <!-- Navigation -->
                    <div class="sidebar-nav">
                        <button class="nav-item active" onclick="showLawyerSection('cases')">
                            <i class="fas fa-briefcase"></i>
                            <span>قضاياي</span>
                        </button>
                        <button class="nav-item" onclick="showLawyerSection('clients')">
                            <i class="fas fa-users"></i>
                            <span>العملاء</span>
                        </button>
                        <button class="nav-item" onclick="showLawyerSection('documents')">
                            <i class="fas fa-file-contract"></i>
                            <span>المستندات</span>
                        </button>
                        <button class="nav-item" onclick="showLawyerSection('calendar')">
                            <i class="fas fa-calendar-days"></i>
                            <span>المواعيد</span>
                        </button>
                        <button class="nav-item" onclick="showLawyerSection('billing')">
                            <i class="fas fa-receipt"></i>
                            <span>الفواتير</span>
                        </button>
                    </div>
                </aside>

                <!-- Main Content -->
                <div class="lawyer-main">
                    <!-- Statistics -->
                    <div class="stats-grid">
                        <div class="stat-card animate__animated animate__fadeIn">
                            <h2>18</h2>
                            <p>قضايا نشطة</p>
                        </div>
                        <div class="stat-card animate__animated animate__fadeIn" style="animation-delay: 0.1s;">
                            <h2>5</h2>
                            <p>جلسات هذا الأسبوع</p>
                        </div>
                        <div class="stat-card animate__animated animate__fadeIn" style="animation-delay: 0.2s;">
                            <h2>32</h2>
                            <p>عميل</p>
                        </div>
                        <div class="stat-card animate__animated animate__fadeIn" style="animation-delay: 0.3s;">
                            <h2>15</h2>
                            <p>مستند جديد</p>
                        </div>
                    </div>

                    <!-- AI Assistant for Lawyer -->
                    <div class="input-group animate__animated animate__fadeIn">
                        <h3><i class="fas fa-robot"></i> المساعد الذكي للمحامين</h3>
                        <p class="text-muted" style="margin-bottom: 1.5rem;">اطرح سؤالك القانوني أو اطلب المساعدة في صياغة مستند أو استراتيجية دفاع</p>
                        
                        <div class="input-with-icon">
                            <i class="input-icon fas fa-comment-dots"></i>
                            <textarea id="lawyerQuestion" 
                                      placeholder="اكتب سؤالك القانوني أو طلب المساعدة..."></textarea>
                        </div>
                        
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="runLawyerAI()">
                                <i class="fas fa-brain"></i>
                                <span>استشارة ذكية</span>
                            </button>
                            <button class="btn btn-secondary" onclick="voiceInput('lawyerQuestion')">
                                <i class="fas fa-microphone"></i>
                                <span>إدخال صوتي</span>
                            </button>
                            <button class="btn btn-outline" onclick="clearInput('lawyerQuestion')">
                                <i class="fas fa-eraser"></i>
                                <span>مسح</span>
                            </button>
                        </div>
                        
                        <div id="lawyerAiResult" class="result-area"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Blind Interface -->
        <section id="blind-view" class="view-section">
            <div class="blind-dashboard">
                <div class="welcome-banner" style="background: linear-gradient(135deg, var(--blind), var(--blind-light));">
                    <h2>منصة رواق العدل للمكفوفين</h2>
                    <p>منصة قضائية ذكية مصممة خصيصاً للمكفوفين، مع واجهة صوتية كاملة وإمكانية التنقل بالصوت والأوامر الصوتية</p>
                </div>

                <div class="blind-actions">
                    <div class="voice-action animate__animated animate__fadeIn" onclick="startVoiceCommand()">
                        <div class="voice-icon">
                            <i class="fas fa-microphone"></i>
                        </div>
                        <h3>أوامر صوتية</h3>
                        <p>استخدم الأوامر الصوتية للتنقل والتحكم في المنصة</p>
                    </div>

                    <div class="voice-action animate__animated animate__fadeIn" onclick="readScreen()" style="animation-delay: 0.1s;">
                        <div class="voice-icon">
                            <i class="fas fa-volume-up"></i>
                        </div>
                        <h3>قراءة الشاشة</h3>
                        <p>استمع إلى محتويات الشاشة الحالية</p>
                    </div>

                    <div class="voice-action animate__animated animate__fadeIn" onclick="openService('audio-services')" style="animation-delay: 0.2s;">
                        <div class="voice-icon">
                            <i class="fas fa-headphones"></i>
                        </div>
                        <h3>الخدمات الصوتية</h3>
                        <p>خدمات قضائية صوتية متكاملة</p>
                    </div>
                </div>

                <!-- Audio Interface -->
                <div class="input-group animate__animated animate__fadeIn">
                    <h3><i class="fas fa-assistive-listening-systems"></i> الواجهة الصوتية</h3>
                    
                    <div class="input-with-icon">
                        <i class="input-icon fas fa-comment-alt"></i>
                        <textarea id="blindInput" 
                                  placeholder="اكتب رسالتك أو استخدم الزر الصوتي..."></textarea>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="processBlindInput()" style="background: linear-gradient(135deg, var(--blind), var(--blind-light));">
                            <i class="fas fa-play"></i>
                            <span>تشغيل</span>
                        </button>
                        <button class="btn btn-secondary" onclick="voiceInput('blindInput')">
                            <i class="fas fa-microphone"></i>
                            <span>إدخال صوتي</span>
                        </button>
                        <button class="btn btn-outline" onclick="clearInput('blindInput')">
                            <i class="fas fa-eraser"></i>
                            <span>مسح</span>
                        </button>
                    </div>
                    
                    <div id="blindResult" class="result-area"></div>
                </div>
            </div>
        </section>

    </main>

    <!-- AI Assistant Button -->
    <div class="ai-assistant">
        <button class="assistant-toggle" onclick="toggleAssistant()" aria-label="فتح المساعد الذكي">
            <i class="fas fa-ear-deaf"></i>
        </button>
    </div>

    <!-- Developer Copyright -->
    <div class="developer-copyright">
        <div class="developer-avatar">
            <i class="fas fa-code"></i>
        </div>
        <div class="developer-info">
            <div class="developer-name">روان الصبحي - Rawaan Al-Subhi</div>
            <div class="copyright-text">© 2024 جميع الحقوق محفوظة</div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>رواق العدل</h3>
                <p>المنصة الذكية الشاملة للخدمات القضائية التي توفر حلولاً مبتكرة للمواطنين والمحامين والقضاة والمكفوفين.</p>
            </div>
            
            <div class="footer-section">
                <h3>روابط سريعة</h3>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-chevron-left"></i> الشروط والأحكام</a></li>
                    <li><a href="#"><i class="fas fa-chevron-left"></i> سياسة الخصوصية</a></li>
                    <li><a href="#"><i class="fas fa-chevron-left"></i> الأسئلة الشائعة</a></li>
                    <li><a href="#"><i class="fas fa-chevron-left"></i> الدعم الفني</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>اتصل بنا</h3>
                <p><i class="fas fa-phone"></i> ٩٢٠٠٢٠٢٠٠</p>
                <p><i class="fas fa-envelope"></i> info@justice-platform.sa</p>
                <p><i class="fas fa-map-marker-alt"></i> الرياض، المملكة العربية السعودية</p>
            </div>
        </div>
        
        <div class="copyright">
            <p>© 2024 منصة رواق العدل الذكية. جميع الحقوق محفوظة.</p>
            <p style="font-size: 0.8rem; margin-top: 0.5rem;">تم التطوير بواسطة روان الصبحي - Rawaan Al-Subhi</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // ===== Initialize Application =====
        class JusticePlatform {
            constructor() {
                this.currentMode = 'citizen';
                this.isDarkMode = true;
                this.notifications = [];
                this.voiceSupported = 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window;
                this.init();
            }

            async init() {
                this.initBackground();
                this.initUI();
                this.initEventListeners();
                this.loadPreferences();
                
                setTimeout(() => {
                    this.showNotification('مرحباً بك في رواق العدل', 'المنصة الذكية الشاملة للخدمات القضائية', 'info');
                }, 1000);
                
                // Add sample notifications
                this.addSampleNotifications();
            }

            // ===== Background Engine =====
            initBackground() {
                const canvas = document.getElementById('bgCanvas');
                const ctx = canvas.getContext('2d');
                
                function resizeCanvas() {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                }
                
                window.addEventListener('resize', resizeCanvas);
                resizeCanvas();
                
                const particles = [];
                const particleCount = 100;
                
                class Particle {
                    constructor() {
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.size = Math.random() * 2 + 0.5;
                        this.speedX = Math.random() * 0.5 - 0.25;
                        this.speedY = Math.random() * 0.5 - 0.25;
                        this.color = `rgba(${Math.random() * 50 + 10}, ${Math.random() * 100 + 155}, ${Math.random() * 100 + 155}, ${Math.random() * 0.3 + 0.1})`;
                    }
                    
                    update() {
                        this.x += this.speedX;
                        this.y += this.speedY;
                        
                        if (this.x > canvas.width) this.x = 0;
                        else if (this.x < 0) this.x = canvas.width;
                        
                        if (this.y > canvas.height) this.y = 0;
                        else if (this.y < 0) this.y = canvas.height;
                    }
                    
                    draw() {
                        ctx.fillStyle = this.color;
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }
                
                for (let i = 0; i < particleCount; i++) {
                    particles.push(new Particle());
                }
                
                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    
                    // Draw connections
                    for (let i = 0; i < particles.length; i++) {
                        for (let j = i + 1; j < particles.length; j++) {
                            const dx = particles[i].x - particles[j].x;
                            const dy = particles[i].y - particles[j].y;
                            const distance = Math.sqrt(dx * dx + dy * dy);
                            
                            if (distance < 100) {
                                ctx.beginPath();
                                ctx.strokeStyle = `rgba(10, 113, 110, ${0.1 * (1 - distance/100)})`;
                                ctx.lineWidth = 0.5;
                                ctx.moveTo(particles[i].x, particles[i].y);
                                ctx.lineTo(particles[j].x, particles[j].y);
                                ctx.stroke();
                            }
                        }
                    }
                    
                    particles.forEach(particle => {
                        particle.update();
                        particle.draw();
                    });
                    
                    requestAnimationFrame(animate);
                }
                
                animate();
            }

            // ===== Mode Switching =====
            switchMode(mode, button) {
                this.currentMode = mode;
                
                // Update buttons
                document.querySelectorAll('.mode-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                button.classList.add('active');
                
                // Update view
                document.querySelectorAll('.view-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                const viewSection = document.getElementById(`${mode}-view`);
                if (viewSection) {
                    viewSection.classList.add('active');
                }
                
                // Show notification
                const messages = {
                    'citizen': { title: 'واجهة المواطن', message: 'خدمات قضائية شاملة للمواطنين' },
                    'judge': { title: 'واجهة القاضي', message: 'أدوات متقدمة للقضاة والمعاونين' },
                    'lawyer': { title: 'واجهة المحامي', message: 'منصة متكاملة للمحامين والمستشارين' },
                    'blind': { title: 'واجهة المكفوفين', message: 'منصة صوتية متكاملة للمكفوفين' }
                };
                
                if (messages[mode]) {
                    this.showNotification(messages[mode].title, messages[mode].message, 'info');
                }
                
                // Save preference
                this.savePreferences();
            }

            // ===== AI Functions =====
            async runCitizenAI() {
                const question = document.getElementById('citizenQuestion').value.trim();
                const resultArea = document.getElementById('citizenAiResult');
                
                if (!question) {
                    this.showNotification('تنبيه', 'يرجى كتابة سؤال أو وصف المشكلة', 'warning');
                    return;
                }
                
                // Disable button
                const btn = event.target;
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i><span>جاري التحليل...</span>';
                btn.disabled = true;
                
                resultArea.classList.add('show');
                resultArea.innerHTML = this.createLoaderHTML('جاري تحليل سؤالك...');
                
                setTimeout(() => {
                    const analysis = this.generateCitizenAnalysis(question);
                    resultArea.innerHTML = analysis;
                    
                    // Re-enable button
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                    
                    this.showNotification('اكتمل التحليل', 'تم تحليل سؤالك بنجاح', 'success');
                }, 2000);
            }

            async runJudgeAI() {
                const text = document.getElementById('judgeText').value.trim();
                const resultArea = document.getElementById('judgeAiResult');
                
                if (!text) {
                    this.showNotification('تنبيه', 'يرجى إدخال نص وقائع القضية', 'warning');
                    return;
                }
                
                // Disable button
                const btn = event.target;
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i><span>جاري التحليل...</span>';
                btn.disabled = true;
                
                resultArea.classList.add('show');
                resultArea.innerHTML = this.createLoaderHTML('جاري التحليل القانوني المتقدم...');
                
                setTimeout(() => {
                    const analysis = this.generateJudgeAnalysis(text);
                    resultArea.innerHTML = analysis;
                    
                    // Re-enable button
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                    
                    this.showNotification('اكتمل التحليل', 'تم تحليل القضية بنجاح', 'success');
                }, 2500);
            }

            async runLawyerAI() {
                const question = document.getElementById('lawyerQuestion').value.trim();
                const resultArea = document.getElementById('lawyerAiResult');
                
                if (!question) {
                    this.showNotification('تنبيه', 'يرجى كتابة سؤال أو طلب المساعدة', 'warning');
                    return;
                }
                
                // Disable button
                const btn = event.target;
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i><span>جاري التحليل...</span>';
                btn.disabled = true;
                
                resultArea.classList.add('show');
                resultArea.innerHTML = this.createLoaderHTML('جاري تحليل طلبك...');
                
                setTimeout(() => {
                    const analysis = this.generateLawyerAnalysis(question);
                    resultArea.innerHTML = analysis;
                    
                    // Re-enable button
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                    
                    this.showNotification('اكتمل التحليل', 'تم تحليل طلبك بنجاح', 'success');
                }, 2000);
            }

            // ===== Analysis Generators =====
            generateCitizenAnalysis(question) {
                const responses = [
                    {
                        title: "تحليل المساعد الذكي",
                        content: `
                            <p>بناءً على سؤالك، يُنصح بالتالي:</p>
                            <ul>
                                <li>التوجه إلى أقرب محكمة مختصة حسب نوع القضية</li>
                                <li>إعداد كافة المستندات المطلوبة (الهوية، المستندات المؤيدة)</li>
                                <li>الاستعانة بمحامٍ معتمد إذا كانت القضية معقدة</li>
                                <li>تقديم الطلب عبر المنصة الإلكترونية لتسريع الإجراءات</li>
                            </ul>
                        `,
                        recommendation: "يمكنك استخدام خدمة 'رفع دعوى جديدة' في المنصة للمساعدة في إعداد المستندات المطلوبة."
                    },
                    {
                        title: "توجيهات قانونية أولية",
                        content: `
                            <p>بالنسبة لحالتك، هذه أهم النقاط:</p>
                            <ul>
                                <li>تأكد من توثيق جميع الأدلة والمستندات</li>
                                <li>احتفظ بنسخ من جميع المراسلات</li>
                                <li>التزم بالمواعيد القانونية المحددة</li>
                                <li>اطلب المشورة القانونية قبل أي إجراء رسمي</li>
                            </ul>
                        `,
                        recommendation: "ننصح بزيارة قسم 'الاستشارة القانونية' للحصول على مزيد من التفاصيل."
                    }
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                
                return `
                    <div class="result-header">
                        <h4><i class="fas fa-lightbulb"></i> ${randomResponse.title}</h4>
                        <div class="result-actions">
                            <button class="icon-btn" onclick="speakText(this)" style="width: auto; padding: 0.5rem;">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <button class="icon-btn" onclick="copyResult('citizenAiResult')" style="width: auto; padding: 0.5rem;">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <div class="result-content">
                        ${randomResponse.content}
                        <div class="info-box">
                            <p><i class="fas fa-info-circle"></i> ${randomResponse.recommendation}</p>
                        </div>
                    </div>
                `;
            }

            generateJudgeAnalysis(text) {
                const analyses = [
                    {
                        gaps: ["عدم وضوح تواريخ التبليغ", "نقص في بعض المستندات الأساسية", "عدم تحديد الاختصاص القضائي بوضوح"],
                        recommendations: ["طلب استكمال المستندات الناقصة", "تحديد جلسة للمرافعة", "الاستعانة بخبير فني إذا لزم الأمر"],
                        timeline: "المدة المتوقعة: 2-3 أشهر"
                    },
                    {
                        gaps: ["تناقض في الروايات", "عدم تقديم أدلة كافية", "إشكالية في تحديد المسؤولية"],
                        recommendations: ["طلب إيضاحات إضافية", "تحديد جلسة استماع للأطراف", "الاستعانة بمحكم إذا لزم الأمر"],
                        timeline: "المدة المتوقعة: 3-4 أشهر"
                    }
                ];
                
                const randomAnalysis = analyses[Math.floor(Math.random() * analyses.length)];
                
                return `
                    <div class="result-header">
                        <h4><i class="fas fa-chart-bar"></i> نتائج التحليل المتقدم</h4>
                        <div class="result-actions">
                            <button class="icon-btn" onclick="speakText(this)" style="width: auto; padding: 0.5rem;">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <button class="icon-btn" onclick="copyResult('judgeAiResult')" style="width: auto; padding: 0.5rem;">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <div class="result-content">
                        <div style="display: grid; gap: 1.5rem;">
                            <div style="background: rgba(0, 0, 0, 0.2); padding: 1.5rem; border-radius: var(--radius);">
                                <h5 style="margin-bottom: 1rem; color: var(--judge-light);">النواقص الملحوظة</h5>
                                <ul>
                                    ${randomAnalysis.gaps.map(gap => `<li>${gap}</li>`).join('')}
                                </ul>
                            </div>
                            <div style="background: rgba(0, 0, 0, 0.2); padding: 1.5rem; border-radius: var(--radius);">
                                <h5 style="margin-bottom: 1rem; color: var(--judge-light);">التوصيات</h5>
                                <ul>
                                    ${randomAnalysis.recommendations.map(rec => `<li>${rec}</li>`).join('')}
                                </ul>
                            </div>
                            <div style="background: rgba(0, 0, 0, 0.2); padding: 1.5rem; border-radius: var(--radius);">
                                <h5 style="margin-bottom: 1rem; color: var(--judge-light);">المدة المتوقعة</h5>
                                <p>${randomAnalysis.timeline}</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateLawyerAnalysis(question) {
                const templates = [
                    {
                        advice: "بناءً على الاستفسار، أنصح بالتالي:",
                        points: [
                            "مراجعة السوابق القضائية المشابهة",
                            "إعداد مذكرة دفاعية شاملة",
                            "تقديم الطلبات الاحتياطية",
                            "الاستعداد للجلسات القادمة"
                        ],
                        note: "تأكد من مراجعة جميع المستندات مع العميل قبل تقديمها."
                    },
                    {
                        advice: "للتعامل مع هذه القضية:",
                        points: [
                            "تحليل نقاط القوة والضعف في القضية",
                            "إعداد قائمة بالأدلة المطلوبة",
                            "تحديد الاستراتيجية الدفاعية المناسبة",
                            "التواصل مع الشهود والخبراء"
                        ],
                        note: "ننصح بتوثيق جميع الإجراءات والمراسلات."
                    }
                ];
                
                const randomTemplate = templates[Math.floor(Math.random() * templates.length)];
                
                return `
                    <div class="result-header">
                        <h4><i class="fas fa-gavel"></i> استشارة قانونية متخصصة</h4>
                        <div class="result-actions">
                            <button class="icon-btn" onclick="speakText(this)" style="width: auto; padding: 0.5rem;">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <button class="icon-btn" onclick="copyResult('lawyerAiResult')" style="width: auto; padding: 0.5rem;">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <div class="result-content">
                        <p><strong>${randomTemplate.advice}</strong></p>
                        <ul>
                            ${randomTemplate.points.map(point => `<li>${point}</li>`).join('')}
                        </ul>
                        <div class="info-box">
                            <p><i class="fas fa-lightbulb"></i> ${randomTemplate.note}</p>
                        </div>
                    </div>
                `;
            }

            // ===== Voice Input =====
            voiceInput(textareaId) {
                if (!this.voiceSupported) {
                    this.showNotification('عذراً', 'المتصفح لا يدعم التعرف على الصوت', 'error');
                    return;
                }
                
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                const recognition = new SpeechRecognition();
                recognition.lang = 'ar-SA';
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;
                
                recognition.start();
                
                this.showNotification('جاري الاستماع', 'يرجى التحدث الآن...', 'info');
                
                recognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript;
                    document.getElementById(textareaId).value = transcript;
                    this.showNotification('تم', 'تم تحويل الصوت إلى نص بنجاح', 'success');
                };
                
                recognition.onerror = (event) => {
                    this.showNotification('خطأ', 'حدث خطأ في التعرف على الصوت', 'error');
                };
            }

            // ===== Blind Interface Functions =====
            processBlindInput() {
                const input = document.getElementById('blindInput').value.trim();
                const resultArea = document.getElementById('blindResult');
                
                if (!input) {
                    this.showNotification('تنبيه', 'يرجى كتابة رسالة أو استخدام الإدخال الصوتي', 'warning');
                    return;
                }
                
                resultArea.classList.add('show');
                resultArea.innerHTML = this.createLoaderHTML('جاري معالجة طلبك...');
                
                setTimeout(() => {
                    const response = this.generateBlindResponse(input);
                    resultArea.innerHTML = response;
                    
                    // Speak the response
                    this.speak(response.replace(/<[^>]*>/g, ''));
                    
                    this.showNotification('تم', 'تم معالجة طلبك بنجاح', 'success');
                }, 1500);
            }

            generateBlindResponse(input) {
                const responses = [
                    "تم استلام طلبك بنجاح. سيقوم المساعد الذكي بمساعدتك في الخدمات القضائية. يمكنك استخدام الأوامر الصوتية للتنقل بين الخدمات.",
                    "مرحباً بك في منصة رواق العدل للمكفوفين. أنا المساعد الصوتي الذكي، كيف يمكنني مساعدتك اليوم؟",
                    "تم تسجيل طلبك. يمكنك الآن استخدام الأوامر التالية: 'فتح الخدمات'، 'متابعة قضية'، 'حجز موعد'، أو 'استشارة قانونية'."
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                
                return `
                    <div class="result-header">
                        <h4><i class="fas fa-comment-alt"></i> رد المساعد الصوتي</h4>
                        <div class="result-actions">
                            <button class="icon-btn" onclick="speakText(this)" style="width: auto; padding: 0.5rem;">
                                <i class="fas fa-volume-up"></i>
                            </button>
                        </div>
                    </div>
                    <div class="result-content">
                        <p>${randomResponse}</p>
                        <div class="info-box">
                            <p><i class="fas fa-info-circle"></i> يمكنك دائماً استخدام الأمر الصوتي "مساعدة" للحصول على قائمة بالأوامر المتاحة.</p>
                        </div>
                    </div>
                `;
            }

            speak(text) {
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'ar-SA';
                    utterance.rate = 1;
                    speechSynthesis.speak(utterance);
                }
            }

            // ===== Utility Functions =====
            createLoaderHTML(message) {
                return `
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>${message}</p>
                    </div>
                `;
            }

            showNotification(title, message, type = 'info') {
                const container = document.getElementById('notificationContainer');
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <div class="notification-icon">
                        ${type === 'success' ? '<i class="fas fa-check-circle"></i>' : 
                          type === 'warning' ? '<i class="fas fa-exclamation-triangle"></i>' : 
                          type === 'error' ? '<i class="fas fa-times-circle"></i>' : 
                          '<i class="fas fa-info-circle"></i>'}
                    </div>
                    <div class="notification-content">
                        <h5>${title}</h5>
                        <p>${message}</p>
                    </div>
                    <button class="notification-close" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                container.appendChild(notification);
                
                // Auto remove after 5 seconds
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 5000);
            }

            addSampleNotifications() {
                this.showNotification('تحديث النظام', 'تم تحديث النظام لإضافة ميزات جديدة', 'info');
                this.showNotification('قضية جديدة', 'لديك قضية جديدة تحتاج المراجعة', 'warning');
                this.showNotification('موعد جلسة', 'جلسة قضائية غداً الساعة 10 صباحاً', 'success');
            }

            toggleDarkMode() {
                this.isDarkMode = !this.isDarkMode;
                document.body.classList.toggle('light-mode', !this.isDarkMode);
                this.showNotification('وضع العرض', this.isDarkMode ? 'تم تفعيل الوضع الداكن' : 'تم تفعيل الوضع الفاتح', 'info');
                this.savePreferences();
            }

            clearInput(textareaId) {
                document.getElementById(textareaId).value = '';
                this.showNotification('تم', 'تم مسح النص بنجاح', 'success');
            }

            openService(service) {
                const serviceNames = {
                    'new-case': 'رفع دعوى جديدة',
                    'track-case': 'متابعة الدعاوى',
                    'documents': 'الخدمات الإلكترونية',
                    'calculator': 'الحاسبة القضائية',
                    'consultation': 'استشارة قانونية',
                    'appointments': 'حجز المواعيد',
                    'audio-services': 'الخدمات الصوتية'
                };
                
                this.showNotification('فتح الخدمة', `جاري فتح خدمة ${serviceNames[service] || service}...`, 'info');
            }

            showJudgeSection(section) {
                document.querySelectorAll('.judge-sidebar .nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                event.target.classList.add('active');
                this.showNotification('القسم', `جاري تحميل قسم ${section}...`, 'info');
            }

            showLawyerSection(section) {
                document.querySelectorAll('.lawyer-sidebar .nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                event.target.classList.add('active');
                this.showNotification('القسم', `جاري تحميل قسم ${section}...`, 'info');
            }

            toggleAssistant() {
                this.showNotification('المساعد الذكي', 'جاري فتح واجهة المساعد الذكي المتقدم...', 'info');
            }

            showHelp() {
                this.showNotification('المساعدة', 'جاري فتح دليل المساعدة...', 'info');
            }

            showNotifications() {
                this.showNotification('الإشعارات', 'لديك 3 إشعارات جديدة', 'info');
            }

            startVoiceCommand() {
                this.showNotification('الأوامر الصوتية', 'جاري تفعيل نظام الأوامر الصوتية...', 'info');
            }

            readScreen() {
                const currentView = document.querySelector('.view-section.active');
                const text = currentView ? currentView.innerText : 'لا يوجد محتوى للقراءة';
                this.speak(text.substring(0, 200) + '...');
            }

            // ===== Save/Load Preferences =====
            savePreferences() {
                const preferences = {
                    mode: this.currentMode,
                    darkMode: this.isDarkMode
                };
                localStorage.setItem('justicePlatformPrefs', JSON.stringify(preferences));
            }

            loadPreferences() {
                const saved = localStorage.getItem('justicePlatformPrefs');
                if (saved) {
                    try {
                        const prefs = JSON.parse(saved);
                        this.currentMode = prefs.mode || 'citizen';
                        this.isDarkMode = prefs.darkMode !== undefined ? prefs.darkMode : true;
                        
                        // Apply preferences
                        document.body.classList.toggle('light-mode', !this.isDarkMode);
                        
                        // Switch to saved mode
                        const modeBtn = document.querySelector(`.mode-btn.${this.currentMode}`);
                        if (modeBtn) {
                            this.switchMode(this.currentMode, modeBtn);
                        }
                    } catch (e) {
                        console.error('Error loading preferences:', e);
                    }
                }
            }

            initUI() {
                // Add active class to first nav item in each sidebar
                document.querySelectorAll('.sidebar-nav .nav-item:first-child').forEach(item => {
                    item.classList.add('active');
                });
            }

            initEventListeners() {
                // Add enter key support for textareas
                document.querySelectorAll('textarea').forEach(textarea => {
                    textarea.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter' && e.ctrlKey) {
                            e.preventDefault();
                            const id = textarea.id;
                            if (id.includes('citizen')) this.runCitizenAI();
                            else if (id.includes('judge')) this.runJudgeAI();
                            else if (id.includes('lawyer')) this.runLawyerAI();
                            else if (id.includes('blind')) this.processBlindInput();
                        }
                    });
                });
            }
        }

        // ===== Global Functions =====
        function speakText(button) {
            const resultContent = button.closest('.result-header').nextElementSibling;
            const text = resultContent.innerText;
            
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ar-SA';
                speechSynthesis.speak(utterance);
            }
        }

        function copyResult(resultId) {
            const resultArea = document.getElementById(resultId);
            const text = resultArea.innerText;
            
            navigator.clipboard.writeText(text).then(() => {
                // Create temporary notification
                const platform = new JusticePlatform();
                platform.showNotification('تم النسخ', 'تم نسخ النص إلى الحافظة', 'success');
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }

        // ===== Initialize Platform =====
        let platform;
        document.addEventListener('DOMContentLoaded', () => {
            platform = new JusticePlatform();
            
            // Make platform available globally
            window.platform = platform;
            
            // Define global functions
            window.switchMode = (mode, button) => platform.switchMode(mode, button);
            window.runCitizenAI = () => platform.runCitizenAI();
            window.runJudgeAI = () => platform.runJudgeAI();
            window.runLawyerAI = () => platform.runLawyerAI();
            window.voiceInput = (id) => platform.voiceInput(id);
            window.clearInput = (id) => platform.clearInput(id);
            window.openService = (service) => platform.openService(service);
            window.showJudgeSection = (section) => platform.showJudgeSection(section);
            window.showLawyerSection = (section) => platform.showLawyerSection(section);
            window.toggleAssistant = () => platform.toggleAssistant();
            window.showHelp = () => platform.showHelp();
            window.showNotifications = () => platform.showNotifications();
            window.toggleDarkMode = () => platform.toggleDarkMode();
            window.startVoiceCommand = () => platform.startVoiceCommand();
            window.readScreen = () => platform.readScreen();
            window.processBlindInput = () => platform.processBlindInput();
            window.speakText = speakText;
            window.copyResult = copyResult;
        });

        // ===== Accessibility Features =====
        document.addEventListener('keydown', (e) => {
            // Ctrl + / for help
            if (e.ctrlKey && e.key === '/') {
                e.preventDefault();
                platform.showHelp();
            }
            
            // Ctrl + N for notifications
            if (e.ctrlKey && e.key === 'n') {
                e.preventDefault();
                platform.showNotifications();
            }
            
            // Escape to close notifications
            if (e.key === 'Escape') {
                const notifications = document.querySelectorAll('.notification');
                if (notifications.length > 0) {
                    notifications[notifications.length - 1].remove();
                }
            }
        });

        // ===== Service Worker Registration (PWA) =====
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').catch(err => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>
</html>
